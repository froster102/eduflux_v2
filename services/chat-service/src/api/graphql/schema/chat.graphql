type Chat @key(fields: "id") {
  id: ID!
  participants: [User!]!
  lastMessageAt: String!
  lastMessagePreview: String
  createdAt: String!
}

extend type User @key(fields: "id") {
  id: ID! @external
}

type Pagination {
  currentPage: Int!
  totalPages: Int!
}

type ChatConnection {
  chats: [Chat!]!
  pagination: Pagination!
}

type Query {
  chats(page: Int, limit: Int, role: Role): ChatConnection!
}

enum Role {
  INSTRUCTOR
  LEARNER
}
