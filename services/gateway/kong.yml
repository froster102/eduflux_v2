_format_version: "3.0"
_transform: true

plugins:
      - name: cors
        config:
          origins:
            - "http://localhost:5173"
          methods:
            - GET
            - POST
            - OPTIONS
            - PUT
            - PATCH
            - DELETE
          credentials: true

services:
  - name: auth-service
    url: http://auth-service:3001
    routes:
      - name: auth-route
        paths:
          - /api/auth
        strip_path: false
        
  - name: user-service
    url: http://user-service:3002
    routes:
      - name: user-route
        paths:
          - /api/users
        strip_path: false

  - name: course-service
    url: http://course-service:3003
    routes:
      - name: course-route
        paths:
          - /api/courses
        strip_path: false

      - name: user-subscribed-courses
        paths:
          - /api/users/me/subscribed-courses
        strip_path: false
        
      - name: user-taught-courses-route
        paths:
          - /api/users/me/taught-courses
        strip_path: false

  - name: upload-service
    url: http://upload-service:3004
    routes:
      - name: upload-route
        paths:
          - /api/uploads
        strip_path: false
    
  - name: enrollment-service
    url: http://enrollment-service:3005
    routes:
      - name: enrollment-route
        paths:
          - /api/enrollments
        strip_path: false
       
  - name: payment-service
    url: http://payment-service:3006
    routes:
      - name: payment-route
        paths:
          - /api/payments
        strip_path: false
   
          
